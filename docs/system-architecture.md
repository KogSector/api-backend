# ConFuse System Architecture

> Complete architecture overview showing all microservices, connections, databases, and data flows

## High-Level System Overview

```
                                       ╔═══════════════════════════════════════════════════════════════════╗
                                       ║                        AI AGENTS & CLIENTS                         ║
                                       ║    ┌─────────┐ ┌─────────┐ ┌─────────┐ ┌─────────┐ ┌─────────┐   ║
                                       ║    │ Cursor  │ │Windsurf │ │ Claude  │ │ ChatGPT │ │ Custom  │   ║
                                       ║    │   IDE   │ │   IDE   │ │  Agent  │ │  Agent  │ │  Agent  │   ║
                                       ║    └────┬────┘ └────┬────┘ └────┬────┘ └────┬────┘ └────┬────┘   ║
                                       ╚═════════│══════════│══════════│══════════│══════════│═══════════╝
                                                 └──────────┴──────────┴──────────┴──────────┘
                                                                       │
                                                               MCP Protocol
                                                        (WebSocket / HTTP+SSE)
                                                                       │
                                                                       ▼
╔═════════════════════════════════════════════════════════════════════════════════════════════════════════════════╗
║                                              GATEWAY LAYER                                                       ║
╠═════════════════════════════════════════════════════════════════════════════════════════════════════════════════╣
║                                                                                                                  ║
║    ┌─────────────────────────────────────────────┐    ┌─────────────────────────────────────────────┐          ║
║    │          CLIENT-CONNECTOR (Python)          │    │              FRONTEND (Next.js)             │          ║
║    │                 Port: 8095                  │    │                 Port: 3000                  │          ║
║    │                                             │    │                                             │          ║
║    │  ┌─────────┐ ┌─────────┐ ┌─────────┐       │    │  ┌─────────┐ ┌─────────┐ ┌─────────┐       │          ║
║    │  │WebSocket│ │  Auth   │ │ Session │       │    │  │Dashboard│ │ Sources │ │ Search  │       │          ║
║    │  │Transport│ │Validate │ │ Manager │       │    │  │  Page   │ │  Page   │ │  Page   │       │          ║
║    │  └─────────┘ └─────────┘ └─────────┘       │    │  └─────────┘ └─────────┘ └─────────┘       │          ║
║    └──────────────────────┬──────────────────────┘    └──────────────────────┬──────────────────────┘          ║
║                           │                                                   │                                  ║
║                    stdio/HTTP                                            REST API                                ║
║                           │                                                   │                                  ║
║                           ▼                                                   ▼                                  ║
║    ┌─────────────────────────────────────────────┐    ┌─────────────────────────────────────────────┐          ║
║    │            MCP-SERVER (Rust)                │    │            API-BACKEND (Rust / Axum)        │          ║
║    │                 Port: 3004                  │    │                 Port: 3003                  │          ║
║    │                                             │    │                                             │          ║
║    │  ┌─────────┐ ┌─────────┐ ┌─────────┐       │    │  ┌─────────┐ ┌─────────┐ ┌─────────┐       │          ║
║    │  │ Protocol│ │Connector│ │  Tools  │       │    │  │ Routes  │ │Services │ │ Clients │       │          ║
║    │  │ Handler │ │ Manager │ │& Resourc│       │    │  │         │ │         │ │         │       │          ║
║    │  └─────────┘ └─────────┘ └─────────┘       │    │  └─────────┘ └─────────┘ └─────────┘       │          ║
║    └─────────────────────────────────────────────┘    └──────────────────────┬──────────────────────┘          ║
║                                                                               │                                  ║
╚═══════════════════════════════════════════════════════════════════════════════│══════════════════════════════════╝
                                                                                │
                      ┌──────────────────────────┬──────────────────────────────┼────────────────────────┐
                      │                          │                              │                        │
                      ▼                          ▼                              ▼                        ▼
╔═════════════════════════════════════════════════════════════════════════════════════════════════════════════════╗
║                                              SERVICE LAYER                                                       ║
╠═════════════════════════════════════════════════════════════════════════════════════════════════════════════════╣
║                                                                                                                  ║
║  ┌─────────────────────────────┐  ┌─────────────────────────────┐  ┌─────────────────────────────┐             ║
║  │   AUTH-MIDDLEWARE (external service) │  │   DATA-CONNECTOR (Python)    │  │   RELATION-GRAPH (Rust)     │             ║
║  │         Port: 3001          │  │         Port: 8000           │  │         Port: 3018          │             ║
║  │                             │  │                              │  │                             │             ║
║  │  ┌───────┐ ┌───────┐       │  │  ┌───────┐ ┌───────┐        │  │  ┌───────┐ ┌───────┐        │             ║
║  │  │  JWT  │ │ OAuth │       │  │  │Connect│ │Webhook│        │  │  │ Neo4j │ │Zilliz │        │             ║
║  │  │Handler│ │Handler│       │  │  │  ors  │ │Handler│        │  │  │Client │ │Client │        │             ║
║  │  └───────┘ └───────┘       │  │  └───────┘ └───────┘        │  │  └───────┘ └───────┘        │             ║
║  │  ┌───────┐ ┌───────┐       │  │  ┌───────┐ ┌───────┐        │  │  ┌───────┐ ┌───────┐        │             ║
║  │  │API Key│ │Session│       │  │  │Workers│ │JobQueue│       │  │  │Hybrid │ │ Cross │        │             ║
║  │  │Manager│ │Manager│       │  │  │(Celery)│ │(Redis)│        │  │  │Search │ │ Link  │        │             ║
║  │  └───────┘ └───────┘       │  │  └───────┘ └───────┘        │  │  └───────┘ └───────┘        │             ║
║  └──────────────┬──────────────┘  └──────────────┬──────────────┘  └──────────────┬──────────────┘             ║
║                 │                                │                                │                             ║
╚═════════════════│════════════════════════════════│════════════════════════════════│═════════════════════════════╝
                  │                                │                                │
                  │                                ▼                                │
                  │     ╔══════════════════════════════════════════════════════╗    │
                  │     ║              PROCESSING PIPELINE                      ║    │
                  │     ╠══════════════════════════════════════════════════════╣    │
                  │     ║                                                       ║    │
                  │     ║  ┌─────────────────┐                                 ║    │
                  │     ║  │CODE-NORMALIZE-  │  Fetch + Parse + Extract        ║    │
                  │     ║  │FETCH (Rust)     │  Entities (tree-sitter)         ║    │
                  │     ║  │  Port: 8090     │                                 ║    │
                  │     ║  └────────┬────────┘                                 ║    │
                  │     ║           │                                          ║    │
                  │     ║           ▼                                          ║    │
                  │     ║  ┌─────────────────┐                                 ║    │
                  │     ║  │CHUNKER (Rust)   │  Semantic Segmentation          ║    │
                  │     ║  │  Port: 3002     │  Entity-aware boundaries        ║    │
                  │     ║  └────────┬────────┘                                 ║    │
                  │     ║           │                                          ║    │
                  │     ║           ▼                                          ║    │
                  │     ║  ┌─────────────────┐                                 ║    │
                  │     ║  │EMBEDDINGS (Rust)│  Vector Generation              ║    │
                  │     ║  │  Port: 3005     │  Multi-provider routing         ║    │
                  │     ║  └────────┬────────┘                                 ║    │
                  │     ║           │                                          ║    │
                  │     ╚═══════════│══════════════════════════════════════════╝    │
                  │                 │                                               │
                  │                 └───────────────────────────────────────────────┘
                  │
                  ▼
╔═════════════════════════════════════════════════════════════════════════════════════════════════════════════════╗
║                                              DATA LAYER                                                          ║
╠═════════════════════════════════════════════════════════════════════════════════════════════════════════════════╣
║                                                                                                                  ║
║  ┌─────────────────────────────┐  ┌─────────────────────────────┐  ┌─────────────────────────────┐             ║
║  │        PostgreSQL           │  │           Redis             │  │           Neo4j             │             ║
║  │        Port: 5432           │  │        Port: 6379           │  │        Port: 7687           │             ║
║  │                             │  │                             │  │                             │             ║
║  │  • users                    │  │  • sessions                 │  │  • Repository nodes         │             ║
║  │  • sources                  │  │  • cache                    │  │  • File nodes               │             ║
║  │  • files                    │  │  • rate_limits              │  │  • Function nodes           │             ║
║  │  • sync_jobs                │  │  • job_queue                │  │  • Class nodes              │             ║
║  │  • api_keys                 │  │  • token_blacklist          │  │  • Document nodes           │             ║
║  │  • oauth_tokens             │  │                             │  │  • CONTAINS relations       │             ║
║  │  • audit_logs               │  │                             │  │  • CALLS relations          │             ║
║  │                             │  │                             │  │  • EXPLAINS relations       │             ║
║  └─────────────────────────────┘  └─────────────────────────────┘  └─────────────────────────────┘             ║
║                                                                                                                  ║
║  ┌─────────────────────────────────────────────────────────────────────────────────────────────────┐           ║
║  │                                 Zilliz / Milvus (Vector DB)                                      │           ║
║  │                                       Port: 19530                                                │           ║
║  │                                                                                                  │           ║
║  │  • knowledge_vectors collection                                                                  │           ║
║  │  • Fields: id, embedding (1024d), content, source_kind, source_type, path, language, owner_id   │           ║
║  │  • Index: IVF_FLAT with COSINE metric                                                           │           ║
║  └─────────────────────────────────────────────────────────────────────────────────────────────────┘           ║
║                                                                                                                  ║
╚═════════════════════════════════════════════════════════════════════════════════════════════════════════════════╝
                                                        ▲
                                                        │
                                                        │
╔═════════════════════════════════════════════════════════════════════════════════════════════════════════════════╗
║                                          EXTERNAL DATA SOURCES                                                   ║
╠═════════════════════════════════════════════════════════════════════════════════════════════════════════════════╣
║                                                                                                                  ║
║  ┌─────────┐ ┌─────────┐ ┌─────────┐ ┌─────────┐ ┌─────────┐ ┌─────────┐ ┌─────────┐ ┌─────────┐             ║
║  │ GitHub  │ │ GitLab  │ │Bitbucket│ │ Google  │ │ Dropbox │ │ Notion  │ │Confluenc│ │Local FS │             ║
║  │   API   │ │   API   │ │   API   │ │  Drive  │ │   API   │ │   API   │ │   API   │ │         │             ║
║  └─────────┘ └─────────┘ └─────────┘ └─────────┘ └─────────┘ └─────────┘ └─────────┘ └─────────┘             ║
║                                                                                                                  ║
╚═════════════════════════════════════════════════════════════════════════════════════════════════════════════════╝
```

---

## Service Connection Matrix

```
┌───────────────────────┬────────┬────────┬────────┬────────┬────────┬────────┬────────┬────────┬────────┬────────┐
│                       │Frontend│API-Back│Auth-Mid│Data-Con│MCP-Srv │Client- │Code-Nor│Chunker │Embeddi │Relatio │
│                       │:3000   │:3003   │:3001   │:8000   │:3004   │Con:8095│:8090   │:3002   │:3005   │Grph:301│
├───────────────────────┼────────┼────────┼────────┼────────┼────────┼────────┼────────┼────────┼────────┼────────┤
│ Frontend :3000        │   -    │   ✓    │   ✓    │   -    │   -    │   -    │   -    │   -    │   -    │   -    │
│ API-Backend :3003     │   -    │   -    │   ✓    │   ✓    │   ✓    │   -    │   -    │   -    │   ✓    │   ✓    │
│ Auth-Middleware :3001 │   -    │   -    │   -    │   -    │   -    │   -    │   -    │   -    │   -    │   -    │
│ Data-Connector :8000  │   -    │   -    │   ✓    │   -    │   -    │   -    │   ✓    │   ✓    │   ✓    │   ✓    │
│ MCP-Server :3004      │   -    │   ✓    │   -    │   -    │   -    │   -    │   -    │   -    │   -    │   ✓    │
│ Client-Connector :8095│   -    │   -    │   ✓    │   -    │   ✓    │   -    │   -    │   -    │   -    │   -    │
│ Code-Normalize :8090  │   -    │   -    │   -    │   -    │   -    │   -    │   -    │   -    │   -    │   -    │
│ Chunker :3002         │   -    │   -    │   -    │   -    │   -    │   -    │   -    │   -    │   ✓    │   ✓    │
│ Embeddings :3005      │   -    │   -    │   -    │   -    │   -    │   -    │   -    │   -    │   -    │   -    │
│ Relation-Graph :3018  │   -    │   -    │   -    │   -    │   -    │   -    │   -    │   -    │   ✓    │   -    │
└───────────────────────┴────────┴────────┴────────┴────────┴────────┴────────┴────────┴────────┴────────┴────────┘

Legend: ✓ = calls this service, - = no direct connection
```

---

## Database Connections

```
┌─────────────────────────────────────────────────────────────────────────────────────────────────────────────┐
│                                        SERVICE → DATABASE MAPPING                                            │
├─────────────────────────────────────────────────────────────────────────────────────────────────────────────┤
│                                                                                                              │
│                     PostgreSQL                    Redis                   Neo4j              Zilliz          │
│                      :5432                        :6379                  :7687              :19530          │
│                         │                           │                      │                   │             │
│    ┌────────────────────┼───────────────────────────┼──────────────────────┼───────────────────┤             │
│    │                    │                           │                      │                   │             │
│    ▼                    ▼                           ▼                      ▼                   ▼             │
│  ┌────────────┐   ┌────────────┐             ┌────────────┐         ┌────────────┐     ┌────────────┐       │
│  │api-backend │   │auth-middle │             │api-backend │         │relation-   │     │relation-   │       │
│  │   :3003    │   │ware :3001  │             │   :3003    │         │graph :3018 │     │graph :3018 │       │
│  │            │   │            │             │            │         │            │     │            │       │
│  │ users      │   │ users      │             │ cache      │         │ Entity     │     │ Vectors    │       │
│  │ sessions   │   │ api_keys   │             │ sessions   │         │ nodes      │     │ 1024-dim   │       │
│  └────────────┘   │ tokens     │             │ rate_limit │         │ Relations  │     │ embeddings │       │
│                   └────────────┘             └────────────┘         └────────────┘     └────────────┘       │
│                                                                                                              │
│                   ┌────────────┐             ┌────────────┐                                                  │
│                   │data-connect│             │data-connect│                                                  │
│                   │or :8000    │             │or :8000    │                                                  │
│                   │            │             │            │                                                  │
│                   │ sources    │             │ job_queue  │                                                  │
│                   │ files      │             │ (Celery)   │                                                  │
│                   │ sync_jobs  │             └────────────┘                                                  │
│                   │ webhooks   │                                                                             │
│                   └────────────┘             ┌────────────┐                                                  │
│                                              │client-conn │                                                  │
│                   ┌────────────┐             │ect :8095   │                                                  │
│                   │mcp-server  │             │            │                                                  │
│                   │  :3004     │             │ sessions   │                                                  │
│                   │            │             │ rate_limit │                                                  │
│                   │ metadata   │             └────────────┘                                                  │
│                   └────────────┘                                                                             │
│                                                                                                              │
└─────────────────────────────────────────────────────────────────────────────────────────────────────────────┘
```

---

## Data Ingestion Flow

```
┌─────────────────────────────────────────────────────────────────────────────────────────────────────────────┐
│                                          DATA INGESTION FLOW                                                 │
├─────────────────────────────────────────────────────────────────────────────────────────────────────────────┤
│                                                                                                              │
│   ┌──────────┐                                                                                              │
│   │  User    │ 1. Connects GitHub repo via Frontend                                                        │
│   └────┬─────┘                                                                                              │
│        │                                                                                                    │
│        ▼                                                                                                    │
│   ┌──────────┐     ┌──────────┐                                                                             │
│   │ Frontend │────>│API-Backend│ 2. Create source request                                                  │
│   │  :3000   │     │  :3003   │                                                                             │
│   └──────────┘     └────┬─────┘                                                                             │
│                         │                                                                                   │
│                         ▼                                                                                   │
│                    ┌──────────┐                                                                             │
│                    │  Data-   │ 3. Store source config                                                      │
│                    │Connector │ 4. Setup GitHub webhook                                                     │
│                    │  :8000   │ 5. Queue initial sync job                                                   │
│                    └────┬─────┘                                                                             │
│                         │                                                                                   │
│                         │ ═══════════════════════════════════════════════════════════════                   │
│                         │          ASYNC WORKER (Celery)                                                    │
│                         │ ═══════════════════════════════════════════════════════════════                   │
│                         ▼                                                                                   │
│                    ┌──────────┐                                                                             │
│                    │  GitHub  │ 6. Fetch repo tree                                                          │
│                    │   API    │ 7. List all files                                                           │
│                    └────┬─────┘                                                                             │
│                         │                                                                                   │
│              For each file batch (10 files):                                                                │
│                         │                                                                                   │
│                         ▼                                                                                   │
│                    ┌──────────┐                                                                             │
│                    │  Code-   │ 8. Fetch file content                                                       │
│                    │Normalize │ 9. Detect language                                                          │
│                    │  Fetch   │ 10. Parse AST (tree-sitter)                                                 │
│                    │  :8090   │ 11. Extract entities (functions, classes)                                   │
│                    └────┬─────┘                                                                             │
│                         │                                                                                   │
│                         │ Normalized files + entities                                                       │
│                         ▼                                                                                   │
│                    ┌──────────┐                                                                             │
│                    │ Chunker  │ 12. Split into semantic chunks                                              │
│                    │  :3002   │ 13. Add context prefixes                                                    │
│                    │          │ 14. Respect entity boundaries                                               │
│                    └────┬─────┘                                                                             │
│                         │                                                                                   │
│                         │ Chunks with metadata                                                              │
│                         ▼                                                                                   │
│                    ┌──────────┐                                                                             │
│                    │Embeddings│ 15. Route to appropriate model                                              │
│                    │  :3005   │ 16. Generate vectors (1024-dim)                                             │
│                    │          │ 17. Cache embeddings                                                        │
│                    └────┬─────┘                                                                             │
│                         │                                                                                   │
│                         │ Chunks + embeddings                                                               │
│                         ▼                                                                                   │
│                    ┌──────────┐                                                                             │
│                    │Relation- │ 18. Store in Neo4j (graph)                                                  │
│                    │  Graph   │ 19. Store in Zilliz (vectors)                                               │
│                    │  :3018   │ 20. Create cross-source links                                               │
│                    └──────────┘                                                                             │
│                                                                                                              │
└─────────────────────────────────────────────────────────────────────────────────────────────────────────────┘
```

---

## Query Flow (AI Agent)

```
┌─────────────────────────────────────────────────────────────────────────────────────────────────────────────┐
│                                              QUERY FLOW                                                      │
├─────────────────────────────────────────────────────────────────────────────────────────────────────────────┤
│                                                                                                              │
│   ┌──────────┐                                                                                              │
│   │AI Agent  │ "How does authentication work in this codebase?"                                             │
│   │(Cursor)  │                                                                                              │
│   └────┬─────┘                                                                                              │
│        │                                                                                                    │
│        │ MCP Request (WebSocket)                                                                            │
│        ▼                                                                                                    │
│   ┌──────────┐                                                                                              │
│   │ Client-  │ 1. Validate JWT/API Key                                                                      │
│   │Connector │ 2. Check rate limits                                                                         │
│   │  :8095   │ 3. Forward to MCP Server                                                                     │
│   └────┬─────┘                                                                                              │
│        │                                                                                                    │
│        │ stdio (subprocess) or HTTP                                                                         │
│        ▼                                                                                                    │
│   ┌──────────┐                                                                                              │
│   │MCP-Server│ 4. Parse JSON-RPC request                                                                    │
│   │  :3004   │ 5. Route to confuse.search tool                                                              │
│   └────┬─────┘                                                                                              │
│        │                                                                                                    │
│        │ HTTP POST /api/search                                                                              │
│        ▼                                                                                                    │
│   ┌──────────┐     ┌──────────────────────────────────────────────────────────────┐                        │
│   │Relation- │     │                    HYBRID SEARCH                             │                        │
│   │  Graph   │     │                                                              │                        │
│   │  :3018   │     │  ┌─────────────────────┐   ┌─────────────────────┐          │                        │
│   │          │────>│  │  Vector Search      │   │   Graph Traversal   │          │                        │
│   │          │     │  │     (Zilliz)        │   │      (Neo4j)        │          │                        │
│   │          │     │  │                     │   │                     │          │                        │
│   │          │     │  │ 6. Embed query      │   │ 8. Find entities    │          │                        │
│   │          │     │  │ 7. ANN search       │   │    named "auth*"    │          │                        │
│   │          │     │  │    (top 50)         │   │ 9. Traverse 2 hops  │          │                        │
│   │          │     │  └──────────┬──────────┘   └──────────┬──────────┘          │                        │
│   │          │     │             │                         │                     │                        │
│   │          │     │             └────────────┬────────────┘                     │                        │
│   │          │     │                          │                                  │                        │
│   │          │     │                          ▼                                  │                        │
│   │          │     │             ┌─────────────────────────┐                     │                        │
│   │          │     │             │   Combine & Rerank      │                     │                        │
│   │          │     │             │   10. Deduplicate       │                     │                        │
│   │          │     │             │   11. RRF fusion        │                     │                        │
│   │          │     │             │   12. Return top 10     │                     │                        │
│   │          │     │             └─────────────────────────┘                     │                        │
│   │          │     │                                                              │                        │
│   └──────────┘     └──────────────────────────────────────────────────────────────┘                        │
│        │                                                                                                    │
│        │ Search results                                                                                     │
│        ▼                                                                                                    │
│   ┌──────────┐                                                                                              │
│   │MCP-Server│ 13. Format as MCP tool response                                                              │
│   │  :3004   │                                                                                              │
│   └────┬─────┘                                                                                              │
│        │                                                                                                    │
│        │ JSON-RPC response                                                                                  │
│        ▼                                                                                                    │
│   ┌──────────┐                                                                                              │
│   │ Client-  │ 14. Send via WebSocket                                                                       │
│   │Connector │                                                                                              │
│   └────┬─────┘                                                                                              │
│        │                                                                                                    │
│        ▼                                                                                                    │
│   ┌──────────┐                                                                                              │
│   │AI Agent  │ 15. Use context to generate answer                                                           │
│   │(Cursor)  │                                                                                              │
│   └──────────┘                                                                                              │
│                                                                                                              │
└─────────────────────────────────────────────────────────────────────────────────────────────────────────────┘
```

---

## Webhook Flow (Real-time Sync)

```
┌─────────────────────────────────────────────────────────────────────────────────────────────────────────────┐
│                                            WEBHOOK FLOW                                                      │
├─────────────────────────────────────────────────────────────────────────────────────────────────────────────┤
│                                                                                                              │
│   ┌──────────┐                                                                                              │
│   │ GitHub   │ Developer pushes commit                                                                      │
│   │          │                                                                                              │
│   └────┬─────┘                                                                                              │
│        │                                                                                                    │
│        │ POST /webhooks/github                                                                              │
│        │ X-Hub-Signature-256: sha256=...                                                                    │
│        │ X-GitHub-Event: push                                                                               │
│        ▼                                                                                                    │
│   ┌──────────┐                                                                                              │
│   │  Data-   │ 1. Verify webhook signature                                                                  │
│   │Connector │ 2. Parse push event                                                                          │
│   │  :8000   │ 3. Extract changed files                                                                     │
│   │          │ 4. Return 200 immediately                                                                    │
│   └────┬─────┘                                                                                              │
│        │                                                                                                    │
│        │ Queue incremental sync job                                                                         │
│        ▼                                                                                                    │
│   ┌──────────┐                                                                                              │
│   │  Redis   │                                                                                              │
│   │ (Celery) │ Async worker picks up job                                                                    │
│   └────┬─────┘                                                                                              │
│        │                                                                                                    │
│        │ Only process changed files                                                                         │
│        ▼                                                                                                    │
│   ┌──────────────────────────────────────────────────────────────────────────┐                             │
│   │                    INCREMENTAL PIPELINE                                   │                             │
│   │                                                                           │                             │
│   │   Changed Files → Code-Normalize → Chunker → Embeddings → Relation-Graph │                             │
│   │                                                                           │                             │
│   │   • Only re-index modified files                                         │                             │
│   │   • Delete removed file chunks                                           │                             │
│   │   • Update graph relationships                                           │                             │
│   │                                                                           │                             │
│   └──────────────────────────────────────────────────────────────────────────┘                             │
│                                                                                                              │
└─────────────────────────────────────────────────────────────────────────────────────────────────────────────┘
```

---

## Port Summary

| Service | Port | Protocol | Technology |
|---------|------|----------|------------|
| frontend | 3000 | HTTP | Next.js / React |
| auth-middleware | 3001 | HTTP | External service (see auth-middleware repo) |
| chunker | 3002 | HTTP | Rust / Actix |
| api-backend | 3003 | HTTP | Rust / Axum |
| mcp-server | 3004 | stdio / HTTP | Rust |
| embeddings | 3005 | HTTP | Rust / Actix |
| relation-graph | 3018 | HTTP | Rust / Actix |
| data-connector | 8000 | HTTP | Python / FastAPI |
| code-normalize-fetch | 8090 | HTTP | Rust / Actix |
| client-connector | 8095 | WS / HTTP | Python / FastAPI |
| PostgreSQL | 5432 | TCP | PostgreSQL 15 |
| Redis | 6379 | TCP | Redis 7 |
| Neo4j | 7687 | Bolt | Neo4j 5 |
| Zilliz | 19530 | gRPC | Milvus 2.x |
